{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){const{JSORMBase:n,attr:i,belongsTo:o,hasMany:s}=r(1);n.extend({static:{basicUrl:\"https://plc-synchronize.herokuapp.com\",apiNamespace:\"/api/v1\"}})},function(t,e,r){(function(t,r,n){\n/*\n* jsorm.js\n* @version 1.3.10\n* @copyright (c) 2016 - Lee Richmond<richmolj@gmail.com> & Wade Tandy<wade.tandy@gmail.com>\n* @license MIT <https://github.com/jsonapi-suite/jsorm/blob/master/LICENSE>\n*/\n!function(t,r){r(e)}(0,function(e){\"use strict\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function o(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function u(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?\"return\":o[0]?\"throw\":\"next\"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var l,p=function(){function t(t,e){this.model=t,this.payload=e}return t.apply=function(e,r){new t(e,r).apply()},t.prototype.apply=function(){var t=this,e={};this.payload.errors&&(this.payload.errors.forEach(function(r){var n=r.meta,i=n.relationship;i?t._processRelationship(t.model,i,r):t._processResource(e,n,r)}),this.model.errors=e)},t.prototype._processResource=function(t,e,r){var n=this.model.klass.deserializeKey(e.attribute);t[n]={title:r.title,code:r.code,attribute:e.attribute,message:e.message,fullMessage:\"base\"===n?e.message:r.detail,rawPayload:r}},t.prototype._processRelationship=function(t,e,r){var n=t[e.name];if(Array.isArray(n)&&(n=n.find(function(t){return t.id===e.id||t.temp_id===e[\"temp-id\"]})),e.relationship)this._processRelationship(n,e.relationship,r);else{var i={};this._processResource(i,e,r);var o={};Object.keys(n.errors).forEach(function(t){o[t]=n.errors[t]}),Object.keys(i).forEach(function(t){var e=i[t];void 0!==e&&(o[t]=e)}),n.errors=o}},t}(),f=function(t,e){var r=e.headers.get(\"X-JWT\");r&&t.setJWT(r)},h={green:[32,39],cyan:[36,39],magenta:[35,39],bold:[1,22]},d=function(t,e){if(y()){var r=h[t];return\"\u001b[\"+r[0]+\"m\"+e+\"\u001b[\"+r[1]+\"m\"}return e},y=function(){return void 0===typeof window&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(t.env.TERM)},b=function(){function t(t,e){this.middleware=t,this.logger=e}return t.prototype.get=function(t,e){return e.method=\"GET\",this._fetchWithLogging(t,e)},t.prototype.post=function(t,e,r){return r.method=\"POST\",r.body=JSON.stringify(e),this._fetchWithLogging(t,r)},t.prototype.patch=function(t,e,r){return r.method=\"PATCH\",r.body=JSON.stringify(e),this._fetchWithLogging(t,r)},t.prototype.delete=function(t,e){return e.method=\"DELETE\",this._fetchWithLogging(t,e)},t.prototype._logRequest=function(t,e){this.logger.info(d(\"cyan\",t+\": \")+d(\"magenta\",e))},t.prototype._logResponse=function(t){this.logger.debug(d(\"bold\",JSON.stringify(t,null,4)))},t.prototype._fetchWithLogging=function(t,e){return u(this,void 0,void 0,function(){var r;return c(this,function(n){switch(n.label){case 0:return this._logRequest(e.method||\"UNDEFINED METHOD\",t),[4,this._fetch(t,e)];case 1:return r=n.sent(),this._logResponse(r.jsonPayload),[2,r]}})})},t.prototype._fetch=function(t,e){return u(this,void 0,void 0,function(){var r,n;return c(this,function(i){switch(i.label){case 0:try{this.middleware.beforeFetch(t,e)}catch(r){throw new v(\"beforeFetch failed; review middleware.beforeFetch stack\",t,e,r)}i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(t,e)];case 2:return r=i.sent(),[3,4];case 3:throw n=i.sent(),new g(null,n.message,n);case 4:return[4,this._handleResponse(r,e)];case 5:return i.sent(),[2,r]}})})},t.prototype._handleResponse=function(t,e){return u(this,void 0,void 0,function(){var r,n;return c(this,function(i){switch(i.label){case 0:if(\"DELETE\"===e.method&&[202,204,200].indexOf(t.status)>-1)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.json()];case 2:return r=i.sent(),[3,4];case 3:throw n=i.sent(),new g(t,\"invalid json\",n);case 4:try{this.middleware.afterFetch(t,r)}catch(e){throw new g(t,\"afterFetch failed; review middleware.afterFetch stack\",e)}if(t.status>=500)throw new g(t,\"Server Error\");if(422!==t.status&&void 0===r.data)throw 404===t.status?new g(t,\"record not found\"):new g(t,\"invalid json\");return t.jsonPayload=r,[2]}})})},t}(),v=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.stack=i.stack,o.url=r,o.options=n,o.originalError=i,o}return o(e,t),e}(Error),g=function(t){function e(e,r,n){var i=t.call(this,r||\"Invalid Response\")||this;return i.response=e,i.originalError=n,i}return o(e,t),e}(Error),_=function(){function t(e){this.dct={};var r=this._parseIncludeArgs(e);for(var n in r)r.hasOwnProperty(n)&&(this.dct[n]=new t(r[n]))}return t.prototype.toScopeObject=function(){var t={};for(var e in this.dct)this.dct.hasOwnProperty(e)&&(t[e]=this.dct[e].toScopeObject());return t},t.prototype.toString=function(){var t=[],e=function(e){if(r.dct.hasOwnProperty(e)){var n=r.dct[e].toString();if(\"\"===n)t.push(e);else{var i=n.split(\",\");i=i.map(function(t){return e+\".\"+t}),t.push(i.join(\",\"))}}},r=this;for(var n in this.dct)e(n);return t.join(\",\")},t.prototype._parseIncludeArgs=function(t){if(Array.isArray(t))return this._parseArray(t);if(\"string\"==typeof t){var e={};return e[t]={},e}return\"object\"==typeof t?this._parseObject(t):{}},t.prototype._parseObject=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=this._parseIncludeArgs(t[r]));return e},t.prototype._parseArray=function(t){for(var e={},r=0,n=t;r<n.length;r++){var i=n[r],o=this._parseIncludeArgs(i);for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e},t}(),m=0,w=function(){return\"temp-id-\"+ ++m},j=function(){function t(t,e,r){void 0===r&&(r=!1),this.included=[],this.idOnly=!1;var n=new _(e);if(this.includeDirective=n.toScopeObject(),this.model=t,this.idOnly=r,!t.klass.jsonapiType)throw new Error(\"Cannot serialize model: Undefined jsonapiType\");this.jsonapiType=t.klass.jsonapiType}return t.prototype.attributes=function(){var t=this,e={};return this._eachAttribute(function(r,n){t.model.isPersisted&&!t.model.changes()[r]||(e[t.model.klass.serializeKey(r)]=n)}),e},t.prototype.removeDeletions=function(t,e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],o=t,s=o[n];if(s)if(Array.isArray(s))s.forEach(function(t,e){t.isMarkedForDestruction||t.isMarkedForDisassociation?o[n].splice(e,1):r.removeDeletions(t,i)});else{var a=s;a.isMarkedForDestruction||a.isMarkedForDisassociation?o[n]=null:r.removeDeletions(a,i)}})},t.prototype.postProcess=function(){this.removeDeletions(this.model,this.includeDirective),this.model.resetRelationTracking(this.includeDirective)},t.prototype.relationships=function(){var t=this,e={};return Object.keys(this.includeDirective).forEach(function(r){var n,i=t.includeDirective[r],o=!1;r.indexOf(\".\")>-1&&(r=r.split(\".\")[0],o=!0);var s=t.model[r];s&&(Array.isArray(s)?(n=[],s.forEach(function(e){(o||t.model.hasDirtyRelation(r,e)||e.isDirty(i))&&n.push(t._processRelatedModel(e,i,o))}),0===n.length&&(n=null)):(o||t.model.hasDirtyRelation(r,s)||s.isDirty(i))&&(n=t._processRelatedModel(s,i,o)),n&&(e[t.model.klass.serializeKey(r)]={data:n}))}),e},t.prototype.asJSON=function(){var t={type:this.jsonapiType};if(this.model.id&&(t.id=this.model.id),this.model.temp_id&&(t[\"temp-id\"]=this.model.temp_id),!this.idOnly){var e=this.attributes();Object.keys(e).length>0&&(t.attributes=e)}var r=this.relationships();Object.keys(r).length>0&&(t.relationships=r);var n={data:t};return this.included.length>0&&(n.included=this.included),n},t.prototype._processRelatedModel=function(e,r,n){var i=this;e.clearErrors(),e.isPersisted||(e.temp_id=w());var o=new t(e,r,n),s=o.asJSON().data;return this._pushInclude(s),o.included.forEach(function(t){i._pushInclude(t)}),this._resourceIdentifierFor(e)},t.prototype._resourceIdentifierFor=function(t){if(!t.klass.jsonapiType)throw new Error(\"Cannot serialize model: Undefined jsonapiType for model \"+t);var e,r={type:t.klass.jsonapiType};return t.id&&(r.id=t.id),t.temp_id&&(r[\"temp-id\"]=t.temp_id),e=t.isPersisted?t.isMarkedForDestruction?\"destroy\":t.isMarkedForDisassociation?\"disassociate\":\"update\":\"create\",r.method=e,r},t.prototype._pushInclude=function(t){this._isIncluded(t)||this.included.push(t)},t.prototype._isIncluded=function(t){return this.included.forEach(function(e){if(e.type===t.type&&(e.id===t.id||e[\"temp-id\"]===t[\"temp-id\"]))return!0}),!1},t.prototype._eachAttribute=function(t){var e=this,r=this.model.typedAttributes;Object.keys(r).forEach(function(n){if(e.model.klass.attributeList[n].persist){var i=r[n];t(n,i)}})},t}(),O=function(){function t(){this._data={}}return t.prototype.getItem=function(t){return this._data[t]||null},t.prototype.setItem=function(t,e){this._data[t]=e},t.prototype.removeItem=function(t){delete this._data[t]},t}();try{l=localStorage}catch(t){l=new O}var k=function(){function t(t,e){void 0===e&&(e=l),this._jwtKey=t,this._backend=e}return Object.defineProperty(t.prototype,\"backend\",{get:function(){return this._backend},enumerable:!0,configurable:!0}),t.prototype.getJWT=function(){return this._backend.getItem(this._jwtKey)||void 0},t.prototype.setJWT=function(t){t?this._backend.setItem(this._jwtKey,t):this._backend.removeItem(this._jwtKey)},t}();function P(t,e){return t===e||t!=t&&e!=e}function A(t,e){for(var r=t.length;r--;)if(P(t[r][0],e))return r;return-1}var $=Array.prototype.splice;function S(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}S.prototype.clear=function(){this.__data__=[],this.size=0},S.prototype.delete=function(t){var e=this.__data__,r=A(e,t);return!(r<0||(r==e.length-1?e.pop():$.call(e,r,1),--this.size,0))},S.prototype.get=function(t){var e=this.__data__,r=A(e,t);return r<0?void 0:e[r][1]},S.prototype.has=function(t){return A(this.__data__,t)>-1},S.prototype.set=function(t,e){var r=this.__data__,n=A(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var E=\"object\"==typeof r&&r&&r.Object===Object&&r,R=\"object\"==typeof self&&self&&self.Object===Object&&self,T=E||R||Function(\"return this\")(),x=T.Symbol,C=Object.prototype,F=C.hasOwnProperty,D=C.toString,I=x?x.toStringTag:void 0;var z=Object.prototype.toString;var M=\"[object Null]\",L=\"[object Undefined]\",U=x?x.toStringTag:void 0;function J(t){return null==t?void 0===t?L:M:U&&U in Object(t)?function(t){var e=F.call(t,I),r=t[I];try{t[I]=void 0;var n=!0}catch(t){}var i=D.call(t);return n&&(e?t[I]=r:delete t[I]),i}(t):function(t){return z.call(t)}(t)}function B(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}var N=\"[object AsyncFunction]\",W=\"[object Function]\",K=\"[object GeneratorFunction]\",G=\"[object Proxy]\";function H(t){if(!B(t))return!1;var e=J(t);return e==W||e==K||e==N||e==G}var V=T[\"__core-js_shared__\"],Z=function(){var t=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}();var q=Function.prototype.toString;function Q(t){if(null!=t){try{return q.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}var Y=/^\\[object .+?Constructor\\]$/,X=Function.prototype,tt=Object.prototype,et=X.toString,rt=tt.hasOwnProperty,nt=RegExp(\"^\"+et.call(rt).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function it(t){return!(!B(t)||function(t){return!!Z&&Z in t}(t))&&(H(t)?nt:Y).test(Q(t))}function ot(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return it(r)?r:void 0}var st=ot(T,\"Map\"),at=ot(Object,\"create\");var ut=\"__lodash_hash_undefined__\",ct=Object.prototype.hasOwnProperty;var lt=Object.prototype.hasOwnProperty;var pt=\"__lodash_hash_undefined__\";function ft(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ht(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function dt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ft.prototype.clear=function(){this.__data__=at?at(null):{},this.size=0},ft.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ft.prototype.get=function(t){var e=this.__data__;if(at){var r=e[t];return r===ut?void 0:r}return ct.call(e,t)?e[t]:void 0},ft.prototype.has=function(t){var e=this.__data__;return at?void 0!==e[t]:lt.call(e,t)},ft.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=at&&void 0===e?pt:e,this},dt.prototype.clear=function(){this.size=0,this.__data__={hash:new ft,map:new(st||S),string:new ft}},dt.prototype.delete=function(t){var e=ht(this,t).delete(t);return this.size-=e?1:0,e},dt.prototype.get=function(t){return ht(this,t).get(t)},dt.prototype.has=function(t){return ht(this,t).has(t)},dt.prototype.set=function(t,e){var r=ht(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var yt=200;function bt(t){var e=this.__data__=new S(t);this.size=e.size}bt.prototype.clear=function(){this.__data__=new S,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof S){var n=r.__data__;if(!st||n.length<yt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new dt(n)}return r.set(t,e),this.size=r.size,this};var vt=function(){try{var t=ot(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();function gt(t,e,r){\"__proto__\"==e&&vt?vt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var _t=Object.prototype.hasOwnProperty;function mt(t,e,r){var n=t[e];_t.call(t,e)&&P(n,r)&&(void 0!==r||e in t)||gt(t,e,r)}function wt(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;void 0===u&&(u=t[a]),i?gt(r,a,u):mt(r,a,u)}return r}function jt(t){return null!=t&&\"object\"==typeof t}var Ot=\"[object Arguments]\";function kt(t){return jt(t)&&J(t)==Ot}var Pt=Object.prototype,At=Pt.hasOwnProperty,$t=Pt.propertyIsEnumerable,St=kt(function(){return arguments}())?kt:function(t){return jt(t)&&At.call(t,\"callee\")&&!$t.call(t,\"callee\")},Et=Array.isArray;var Rt=\"object\"==typeof e&&e&&!e.nodeType&&e,Tt=Rt&&\"object\"==typeof n&&n&&!n.nodeType&&n,xt=Tt&&Tt.exports===Rt?T.Buffer:void 0,Ct=(xt?xt.isBuffer:void 0)||function(){return!1},Ft=9007199254740991,Dt=/^(?:0|[1-9]\\d*)$/;function It(t,e){return!!(e=null==e?Ft:e)&&(\"number\"==typeof t||Dt.test(t))&&t>-1&&t%1==0&&t<e}var zt=9007199254740991;function Mt(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=zt}var Lt={};Lt[\"[object Float32Array]\"]=Lt[\"[object Float64Array]\"]=Lt[\"[object Int8Array]\"]=Lt[\"[object Int16Array]\"]=Lt[\"[object Int32Array]\"]=Lt[\"[object Uint8Array]\"]=Lt[\"[object Uint8ClampedArray]\"]=Lt[\"[object Uint16Array]\"]=Lt[\"[object Uint32Array]\"]=!0,Lt[\"[object Arguments]\"]=Lt[\"[object Array]\"]=Lt[\"[object ArrayBuffer]\"]=Lt[\"[object Boolean]\"]=Lt[\"[object DataView]\"]=Lt[\"[object Date]\"]=Lt[\"[object Error]\"]=Lt[\"[object Function]\"]=Lt[\"[object Map]\"]=Lt[\"[object Number]\"]=Lt[\"[object Object]\"]=Lt[\"[object RegExp]\"]=Lt[\"[object Set]\"]=Lt[\"[object String]\"]=Lt[\"[object WeakMap]\"]=!1;var Ut=\"object\"==typeof e&&e&&!e.nodeType&&e,Jt=Ut&&\"object\"==typeof n&&n&&!n.nodeType&&n,Bt=Jt&&Jt.exports===Ut&&E.process,Nt=function(){try{return Bt&&Bt.binding&&Bt.binding(\"util\")}catch(t){}}(),Wt=Nt&&Nt.isTypedArray,Kt=Wt?function(t){return function(e){return t(e)}}(Wt):function(t){return jt(t)&&Mt(t.length)&&!!Lt[J(t)]},Gt=Object.prototype.hasOwnProperty;function Ht(t,e){var r=Et(t),n=!r&&St(t),i=!r&&!n&&Ct(t),o=!r&&!n&&!i&&Kt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!Gt.call(t,c)||s&&(\"length\"==c||i&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||It(c,u))||a.push(c);return a}var Vt=Object.prototype;function Zt(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||Vt)}function qt(t,e){return function(r){return t(e(r))}}var Qt=qt(Object.keys,Object),Yt=Object.prototype.hasOwnProperty;function Xt(t){return null!=t&&Mt(t.length)&&!H(t)}function te(t){return Xt(t)?Ht(t):function(t){if(!Zt(t))return Qt(t);var e=[];for(var r in Object(t))Yt.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}(t)}var ee=Object.prototype.hasOwnProperty;function re(t){if(!B(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Zt(t),r=[];for(var n in t)(\"constructor\"!=n||!e&&ee.call(t,n))&&r.push(n);return r}function ne(t){return Xt(t)?Ht(t,!0):re(t)}var ie=\"object\"==typeof e&&e&&!e.nodeType&&e,oe=ie&&\"object\"==typeof n&&n&&!n.nodeType&&n,se=oe&&oe.exports===ie?T.Buffer:void 0,ae=se?se.allocUnsafe:void 0;function ue(){return[]}var ce=Object.prototype.propertyIsEnumerable,le=Object.getOwnPropertySymbols,pe=le?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}(le(t),function(e){return ce.call(t,e)}))}:ue;function fe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var he=qt(Object.getPrototypeOf,Object),de=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)fe(e,pe(t)),t=he(t);return e}:ue;function ye(t,e,r){var n=e(t);return Et(t)?n:fe(n,r(t))}function be(t){return ye(t,te,pe)}function ve(t){return ye(t,ne,de)}var ge=ot(T,\"DataView\"),_e=ot(T,\"Promise\"),me=ot(T,\"Set\"),we=ot(T,\"WeakMap\"),je=Q(ge),Oe=Q(st),ke=Q(_e),Pe=Q(me),Ae=Q(we),$e=J;(ge&&\"[object DataView]\"!=$e(new ge(new ArrayBuffer(1)))||st&&\"[object Map]\"!=$e(new st)||_e&&\"[object Promise]\"!=$e(_e.resolve())||me&&\"[object Set]\"!=$e(new me)||we&&\"[object WeakMap]\"!=$e(new we))&&($e=function(t){var e=J(t),r=\"[object Object]\"==e?t.constructor:void 0,n=r?Q(r):\"\";if(n)switch(n){case je:return\"[object DataView]\";case Oe:return\"[object Map]\";case ke:return\"[object Promise]\";case Pe:return\"[object Set]\";case Ae:return\"[object WeakMap]\"}return e});var Se=$e,Ee=Object.prototype.hasOwnProperty;var Re=T.Uint8Array;function Te(t){var e=new t.constructor(t.byteLength);return new Re(e).set(new Re(t)),e}function xe(t,e){return t.set(e[0],e[1]),t}function Ce(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Fe(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}var De=1;var Ie=/\\w*$/;function ze(t,e){return t.add(e),t}function Me(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Le=1;var Ue=x?x.prototype:void 0,Je=Ue?Ue.valueOf:void 0;var Be=\"[object Boolean]\",Ne=\"[object Date]\",We=\"[object Map]\",Ke=\"[object Number]\",Ge=\"[object RegExp]\",He=\"[object Set]\",Ve=\"[object String]\",Ze=\"[object Symbol]\",qe=\"[object ArrayBuffer]\",Qe=\"[object DataView]\",Ye=\"[object Float32Array]\",Xe=\"[object Float64Array]\",tr=\"[object Int8Array]\",er=\"[object Int16Array]\",rr=\"[object Int32Array]\",nr=\"[object Uint8Array]\",ir=\"[object Uint8ClampedArray]\",or=\"[object Uint16Array]\",sr=\"[object Uint32Array]\";function ar(t,e,r,n){var i=t.constructor;switch(e){case qe:return Te(t);case Be:case Ne:return new i(+t);case Qe:return function(t,e){var r=e?Te(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case Ye:case Xe:case tr:case er:case rr:case nr:case ir:case or:case sr:return function(t,e){var r=e?Te(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case We:return function(t,e,r){return Ce(e?r(Fe(t),De):Fe(t),xe,new t.constructor)}(t,n,r);case Ke:case Ve:return new i(t);case Ge:return function(t){var e=new t.constructor(t.source,Ie.exec(t));return e.lastIndex=t.lastIndex,e}(t);case He:return function(t,e,r){return Ce(e?r(Me(t),Le):Me(t),ze,new t.constructor)}(t,n,r);case Ze:return function(t){return Je?Object(Je.call(t)):{}}(t)}}var ur=Object.create,cr=function(){function t(){}return function(e){if(!B(e))return{};if(ur)return ur(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var lr=1,pr=2,fr=4,hr=\"[object Arguments]\",dr=\"[object Function]\",yr=\"[object GeneratorFunction]\",br=\"[object Object]\",vr={};function gr(t,e,r,n,i,o){var s,a=e&lr,u=e&pr,c=e&fr;if(r&&(s=i?r(t,n,i,o):r(t)),void 0!==s)return s;if(!B(t))return t;var l=Et(t);if(l){if(s=function(t){var e=t.length,r=t.constructor(e);return e&&\"string\"==typeof t[0]&&Ee.call(t,\"index\")&&(r.index=t.index,r.input=t.input),r}(t),!a)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,s)}else{var p=Se(t),f=p==dr||p==yr;if(Ct(t))return function(t,e){if(e)return t.slice();var r=t.length,n=ae?ae(r):new t.constructor(r);return t.copy(n),n}(t,a);if(p==br||p==hr||f&&!i){if(s=u||f?{}:function(t){return\"function\"!=typeof t.constructor||Zt(t)?{}:cr(he(t))}(t),!a)return u?function(t,e){return wt(t,de(t),e)}(t,function(t,e){return t&&wt(e,ne(e),t)}(s,t)):function(t,e){return wt(t,pe(t),e)}(t,function(t,e){return t&&wt(e,te(e),t)}(s,t))}else{if(!vr[p])return i?t:{};s=ar(t,p,gr,a)}}o||(o=new bt);var h=o.get(t);if(h)return h;o.set(t,s);var d=c?u?ve:be:u?keysIn:te,y=l?void 0:d(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(y||t,function(n,i){y&&(n=t[i=n]),mt(s,i,gr(n,e,r,i,t,o))}),s}vr[hr]=vr[\"[object Array]\"]=vr[\"[object ArrayBuffer]\"]=vr[\"[object DataView]\"]=vr[\"[object Boolean]\"]=vr[\"[object Date]\"]=vr[\"[object Float32Array]\"]=vr[\"[object Float64Array]\"]=vr[\"[object Int8Array]\"]=vr[\"[object Int16Array]\"]=vr[\"[object Int32Array]\"]=vr[\"[object Map]\"]=vr[\"[object Number]\"]=vr[br]=vr[\"[object RegExp]\"]=vr[\"[object Set]\"]=vr[\"[object String]\"]=vr[\"[object Symbol]\"]=vr[\"[object Uint8Array]\"]=vr[\"[object Uint8ClampedArray]\"]=vr[\"[object Uint16Array]\"]=vr[\"[object Uint32Array]\"]=!0,vr[\"[object Error]\"]=vr[dr]=vr[\"[object WeakMap]\"]=!1;var _r=1,mr=4;function wr(t){return gr(t,_r|mr)}\"undefined\"!=typeof window?window:void 0!==r||\"undefined\"!=typeof self&&self;var jr=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){t.exports=function(){var t={};return(t=function(){this.listeners={}}).prototype={addEventListener:function(t,e,r){for(var n=[],i=arguments.length,o=0;o<i;o++)n.push(arguments[o]);n=n.length>3?n.splice(3,n.length-1):[],void 0!==this.listeners[t]?this.listeners[t].push({scope:r,callback:e,args:n}):this.listeners[t]=[{scope:r,callback:e,args:n}]},removeEventListener:function(t,e,r){if(void 0!==this.listeners[t]){for(var n=this.listeners[t].length,i=[],o=0;o<n;o++){var s=this.listeners[t][o];s.scope==r&&s.callback==e||i.push(s)}this.listeners[t]=i}},hasEventListener:function(t,e,r){if(void 0!==this.listeners[t]){var n=this.listeners[t].length;if(void 0===e&&void 0===r)return n>0;for(var i=0;i<n;i++){var o=this.listeners[t][i];if((!r||o.scope==r)&&o.callback==e)return!0}}return!1},dispatch:function(t,e){for(var r={type:t,target:e},n=[],i=arguments.length,o=0;o<i;o++)n.push(arguments[o]);if(n=n.length>2?n.splice(2,n.length-1):[],n=[r].concat(n),void 0!==this.listeners[t]){var s=this.listeners[t].slice(),a=s.length;for(o=0;o<a;o++){var u=s[o];if(u&&u.callback){var c=n.concat(u.args);u.callback.apply(u.scope,c)}}}},getEvents:function(){var t=\"\";for(var e in this.listeners)for(var r=this.listeners[e].length,n=0;n<r;n++){var i=this.listeners[e][n];t+=i.scope&&i.scope.className?i.scope.className:\"anonymous\",t+=\" listen for '\"+e+\"'\\n\"}return t}},new t}()}),Or=Object.freeze({default:jr,__moduleExports:jr}),kr=function(){function t(){this.data={}}return Object.defineProperty(t.prototype,\"count\",{get:function(){return Object.keys(this.data).length},enumerable:!0,configurable:!0}),t.prototype.find=function(t,e){return void 0===e&&(e=null),e||(e=t.storeKey),this.data[e]},t.prototype.findAll=function(t){var e=this,r=[];return t.forEach(function(t){var n=e.find(t);n&&r.push(n)}),r},t.prototype.create=function(t,e){t.storeKey=e,t.stale=!1,this.data[e]=wr(t.attributes)},t.prototype.updateOrCreate=function(t){if(t.storeKey)this.create(t,t.storeKey);else{var e=this.keyFor(t);this.create(t,e)}Or.dispatch(t.storeKey,{},this.data[t.storeKey])},t.prototype.destroy=function(t){t.stale=!0,delete this.data[t.storeKey]},t.prototype.keyFor=function(t){return t.klass.jsonapiType+\"-\"+t.id},t}(),Pr=function(){function t(t,e){this._deserialized=[],this._resources=[],this.registry=t,this.payload=e,this.addResources(e.data),this.addResources(e.included)}return t.prototype.addResources=function(t){if(t)if(Array.isArray(t))for(var e=0,r=t;e<r.length;e++){var n=r[e];this._resources.push(n)}else this._resources.push(t)},t.prototype.instanceFor=function(t){var e=this.registry.get(t);if(!e)throw new Error('Unknown type \"'+t+'\"');return new e},t.prototype.relationshipInstanceFor=function(t,e){var r=e.find(function(e){return!(e.klass.jsonapiType!==t.type||!(e.id&&t.id&&e.id===t.id||e.temp_id&&t[\"temp-id\"]&&e.temp_id===t[\"temp-id\"]))});return r||(r=this.instanceFor(t.type)),r},t.prototype.lookupAssociated=function(t,e){return t.find(function(t){return!(t.klass.jsonapiType!==e.klass.jsonapiType||!(t.temp_id&&e.temp_id&&t.temp_id===e.temp_id||t.id&&e.id&&t.id===e.id))})},t.prototype.pushRelation=function(t,e,r){var n=t,i=n[e];this.lookupAssociated(i,r)||n[e].push(r)},t.prototype.deserialize=function(t){var e=this.instanceFor(t.type);return this.deserializeInstance(e,t,{})},t.prototype.deserializeInstance=function(t,e,r){void 0===r&&(r={});var n=this.alreadyDeserialized(e);return n||(t.id=e.id,t.temp_id=e[\"temp-id\"],t.assignAttributes(e.attributes),t.setMeta(e.meta),this._deserialized.push(t),this._processRelationships(t,e.relationships||{},r),this._removeDeletions(t,r),t.isPersisted=!0,t.reset(),t)},t.prototype._removeDeletions=function(t,e){var r=this;Object.keys(e).forEach(function(n){var i=t,o=i[n];if(o)if(Array.isArray(o))o.forEach(function(t,o){t.isMarkedForDestruction?i.klass.store.destroy(t):t.isMarkedForDisassociation?i[n].splice(o,1):r._removeDeletions(t,e[n]||{})});else{var s=o;s.isMarkedForDestruction?i.klass.store.destroy(s):s.isMarkedForDisassociation?i[n]=null:r._removeDeletions(s,e[n]||{})}})},t.prototype._processRelationships=function(t,e,r){var n=this;this._iterateValidRelationships(t,e,function(e,i){var o=r[e],s=t;if(Array.isArray(i))for(var a=0,u=i;a<u.length;a++){var c=u[a],l=n.findResource(c),p=s[e],f=n.relationshipInstanceFor(l,p);f=n.deserializeInstance(f,l,o),n.pushRelation(t,e,f)}else{l=n.findResource(i);var h=s[e],d=h||n.instanceFor(l.type);d=n.deserializeInstance(d,l,o),h||(s[e]=d)}})},t.prototype._iterateValidRelationships=function(t,e,r){for(var n in e)if(e.hasOwnProperty(n)){var i=t.klass.deserializeKey(n);if(t.klass.attributeList[i]){var o=e[n].data;if(!o)continue;r(i,o)}}},t.prototype.alreadyDeserialized=function(t){return this._deserialized.find(function(e){return!(e.klass.jsonapiType!==t.type||!(e.id&&t.id&&e.id===t.id||e.temp_id&&t.temp_id&&e.temp_id===t[\"temp-id\"]))})},t.prototype.findResource=function(t){return this._resources.find(function(e){return!(e.type!==t.type||!(e.id&&t.id&&e.id===t.id||e[\"temp-id\"]&&t[\"temp-id\"]&&e[\"temp-id\"]===t[\"temp-id\"]))})||t},t}(),Ar=function(){function t(t){this.model=t}return t.prototype.checkRelation=function(t,e){var r=!1;e.isPersisted&&((this.model._originalRelationships[t]||[]).find(function(t){return JSON.stringify(t)===JSON.stringify(e.resourceIdentifier)})||(r=!0));return r},t.prototype.check=function(t){void 0===t&&(t={});var e=new _(t).toScopeObject();return this._hasDirtyAttributes()||this._hasDirtyRelationships(e)||this.model.isMarkedForDestruction||this.model.isMarkedForDisassociation||this._isUnpersisted()},t.prototype.dirtyAttributes=function(){for(var t={},e=0,r=Object.keys(this.model.attributes);e<r.length;e++){var n=r[e],i=this.model._originalAttributes[n],o=this.model.attributes[n];this.model.isPersisted?i!==o&&(t[n]=[i,o]):t[n]=[null,o]}return t},t.prototype._isUnpersisted=function(){return!this.model.isPersisted&&JSON.stringify(this.model.attributes)!==JSON.stringify({})},t.prototype._hasDirtyAttributes=function(){var t=this.model._originalAttributes,e=this.model.attributes;return JSON.stringify(t)!==JSON.stringify(e)},t.prototype._hasDirtyRelationships=function(t){var e=this,r=!1;return this._eachRelatedObject(t,function(t,n,i){n.isDirty(i)&&(r=!0),e.checkRelation(t,n)&&(r=!0)}),r},t.prototype._eachRelatedObject=function(t,e){var r=this;Object.keys(t).forEach(function(n){var i=t[n],o=r.model[n];Array.isArray(o)||(o=[o]),o.forEach(function(t){t&&e(n,t,i)})})},t}(),$r=function(t,e){var r=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];void 0!==i&&null!==i&&\"\"!==i&&(e&&(n=e+\"[\"+n+\"]\"),Array.isArray(i)?i.length>0&&r.push(n+\"=\"+i.join(\",\")):\"object\"==typeof i?r.push($r(i,n)):r.push(n+\"=\"+i))}return(r=r.filter(function(t){return!!t})).join(\"&\")},Sr=function(){function t(t,e){void 0===e&&(e={data:[]}),this._collection=t,this._raw_json=e}return Object.defineProperty(t.prototype,\"raw\",{get:function(){return this._raw_json},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"data\",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"meta\",{get:function(){return this.raw.meta||{}},enumerable:!0,configurable:!0}),t}(),Er=function(){function t(t,e){this._record=t,this._raw_json=e}return Object.defineProperty(t.prototype,\"raw\",{get:function(){return this._raw_json},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"data\",{get:function(){return this._record},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"meta\",{get:function(){return this.raw.meta||{}},enumerable:!0,configurable:!0}),t}(),Rr=function(){function t(t){this._raw_json=t}return Object.defineProperty(t.prototype,\"raw\",{get:function(){return this._raw_json},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"data\",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"meta\",{get:function(){return this.raw.meta||{}},enumerable:!0,configurable:!0}),t}(),Tr=function(){function t(t){this._associations={},this._pagination={},this._filter={},this._sort={},this._fields={},this._extra_fields={},this._include={},this._stats={},this._extraParams={},this.model=t}return t.prototype.all=function(){return u(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,this._fetch(this.model.url())];case 1:return t=e.sent(),[2,this._buildCollectionResult(t)]}})})},t.prototype.find=function(t){return u(this,void 0,void 0,function(){var e;return c(this,function(r){switch(r.label){case 0:return[4,this._fetch(this.model.url(t))];case 1:return e=r.sent(),[2,this._buildRecordResult(e)]}})})},t.prototype.first=function(){return u(this,void 0,void 0,function(){var t,e;return c(this,function(r){switch(r.label){case 0:return[4,(t=this.per(1))._fetch(t.model.url())];case 1:return e=r.sent(),[2,this._buildRecordResult(e)]}})})},t.prototype.merge=function(t){var e=this.copy();return Object.keys(t).forEach(function(r){e._associations[r]=t[r]}),e},t.prototype.page=function(t){var e=this.copy();return e._pagination.number=t,e},t.prototype.per=function(t){var e=this.copy();return e._pagination.size=t,e},t.prototype.where=function(t){var e=this.copy();for(var r in t)t.hasOwnProperty(r)&&(e._filter[r]=t[r]);return e},t.prototype.extraParams=function(t){var e=this.copy();for(var r in t)t.hasOwnProperty(r)&&(e._extraParams[r]=t[r]);return e},t.prototype.stats=function(t){var e=this.copy();for(var r in t)t.hasOwnProperty(r)&&(e._stats[r]=t[r]);return e},t.prototype.order=function(t){var e=this.copy();if(\"object\"==typeof t)for(var r in t)t.hasOwnProperty(r)&&(e._sort[r]=t[r]);else e._sort[t]=\"asc\";return e},t.prototype.select=function(t){var e=this.copy();if(Array.isArray(t)){var r=t,n=this.model.jsonapiType;e._fields[n]=r}else for(var i in t)t.hasOwnProperty(i)&&(e._fields[i]=t[i]);return e},t.prototype.selectExtra=function(t){var e=this.copy();if(Array.isArray(t)){var r=t,n=this.model.jsonapiType;e._extra_fields[n]=r}else for(var i in t)t.hasOwnProperty(i)&&(e._extra_fields[i]=t[i]);return e},t.prototype.includes=function(t){var e=this.copy(),r=new _(t).toScopeObject();for(var n in r)r.hasOwnProperty(n)&&(e._include[n]=r[n]);return e},t.prototype.scope=function(){return this},t.prototype.asQueryParams=function(){var t=this,e={page:this._pagination,filter:this._filter,sort:this._sortParam(this._sort)||[],fields:this._fields,extra_fields:this._extra_fields,stats:this._stats,include:new _(this._include).toString()};return this._mergeAssociationQueryParams(e,this._associations),Object.keys(this._extraParams).forEach(function(r){e[r]=t._extraParams[r]}),e},t.prototype.toQueryParams=function(){var t=$r(this.asQueryParams());if(\"\"!==t)return t},t.prototype.copy=function(){return wr(this)},t.prototype._mergeAssociationQueryParams=function(t,e){var r=this,n=function(n){if(e.hasOwnProperty(n)){var i=e[n].asQueryParams();t.page[n]=i.page,t.filter[n]=i.filter,t.stats[n]=i.stats,Object.assign(t.fields,i.fields),Object.assign(t.extra_fields,i.extra_fields),i.sort.forEach(function(e){var i=r._transformAssociationSortParam(n,e);t.sort.push(i)})}};for(var i in e)n(i)},t.prototype._transformAssociationSortParam=function(t,e){return-1!==e.indexOf(\"-\")&&(e=e.replace(\"-\",\"\"),t=\"-\"+t),t+\".\"+e},t.prototype._sortParam=function(t){if(t&&Object.keys(t).length>0){var e=[];for(var r in t)t.hasOwnProperty(r)&&(\"asc\"!==t[r]&&(r=\"-\"+r),e.push(r));return e}},t.prototype._fetch=function(t){return u(this,void 0,void 0,function(){var e,r,n,i;return c(this,function(o){switch(o.label){case 0:return(e=this.toQueryParams())&&(t=t+\"?\"+e),r=new b(this.model.middlewareStack,this.model.logger),n=this.model.fetchOptions(),[4,r.get(t,n)];case 1:return i=o.sent(),f(this.model,i),[2,i.jsonPayload]}})})},t.prototype._buildRecordResult=function(t){var e,r;if(t.data instanceof Array){if(!(r=t.data[0]))return new Rr(t)}else r=t.data;return e=this.model.fromJsonapi(r,t),new Er(e,t)},t.prototype._buildCollectionResult=function(t){var e=this,r=[];return t.data.forEach(function(n){r.push(e.model.fromJsonapi(n,t))}),new Sr(r,t)},t}(),xr=function(){function t(t){this._typeMap={},this._baseClass=t}return t.prototype.register=function(t,e){if(this._typeMap[t])throw new Error('Type \"'+t+'\" already registered on base class '+this._baseClass);this._typeMap[t]=e},t.prototype.get=function(t){return this._typeMap[t]},t}(),Cr=Object.prototype.toString;var Fr=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},Dr=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Ir(t){return t.split(\"\").map(function(t){return\"(?:\"+t.toUpperCase()+\"|\"+t.toLowerCase()+\")\"}).join(\"\")}function zr(t,e){for(var r=t.length-1;r>=0;r--)t[r]===e&&Array.prototype.splice.call(t,r,1)}function Mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Lr={},Ur=function(){function t(){Fr(this,t),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return Dr(t,null,[{key:\"getInstance\",value:function(e){return Lr[e]=Lr[e]||new t,Lr[e]}}]),Dr(t,[{key:\"acronym\",value:function(t){this.acronyms[t.toLowerCase()]=t;var e=[];for(var r in this.acronyms)Mr(this.acronyms,r)&&e.push(this.acronyms[r]);this.acronymRegex=new RegExp(e.join(\"|\"))}},{key:\"plural\",value:function(t,e){\"string\"==typeof t&&zr(this.uncountables,t),zr(this.uncountables,e),this.plurals.unshift([t,e])}},{key:\"singular\",value:function(t,e){\"string\"==typeof t&&zr(this.uncountables,t),zr(this.uncountables,e),this.singulars.unshift([t,e])}},{key:\"irregular\",value:function(t,e){zr(this.uncountables,t),zr(this.uncountables,e);var r=t[0],n=t.substr(1),i=e[0],o=e.substr(1);if(r.toUpperCase()===i.toUpperCase())this.plural(new RegExp(\"(\"+r+\")\"+n+\"$\",\"i\"),\"$1\"+o),this.plural(new RegExp(\"(\"+i+\")\"+o+\"$\",\"i\"),\"$1\"+o),this.singular(new RegExp(\"(\"+r+\")\"+n+\"$\",\"i\"),\"$1\"+n),this.singular(new RegExp(\"(\"+i+\")\"+o+\"$\",\"i\"),\"$1\"+n);else{var s=Ir(n),a=Ir(o);this.plural(new RegExp(r.toUpperCase()+s+\"$\"),i.toUpperCase()+o),this.plural(new RegExp(r.toLowerCase()+s+\"$\"),i.toLowerCase()+o),this.plural(new RegExp(i.toUpperCase()+a+\"$\"),i.toUpperCase()+o),this.plural(new RegExp(i.toLowerCase()+a+\"$\"),i.toLowerCase()+o),this.singular(new RegExp(r.toUpperCase()+s+\"$\"),r.toUpperCase()+n),this.singular(new RegExp(r.toLowerCase()+s+\"$\"),r.toLowerCase()+n),this.singular(new RegExp(i.toUpperCase()+a+\"$\"),r.toUpperCase()+n),this.singular(new RegExp(i.toLowerCase()+a+\"$\"),r.toLowerCase()+n)}}},{key:\"uncountable\",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.uncountables=this.uncountables.concat(e)}},{key:\"human\",value:function(t,e){this.humans.unshift([t,e])}},{key:\"clear\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"all\";\"all\"===t?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[t]=[]}}]),t}();var Jr={en:function(t){t.plural(/$/,\"s\"),t.plural(/s$/i,\"s\"),t.plural(/^(ax|test)is$/i,\"$1es\"),t.plural(/(octop|vir)us$/i,\"$1i\"),t.plural(/(octop|vir)i$/i,\"$1i\"),t.plural(/(alias|status)$/i,\"$1es\"),t.plural(/(bu)s$/i,\"$1ses\"),t.plural(/(buffal|tomat)o$/i,\"$1oes\"),t.plural(/([ti])um$/i,\"$1a\"),t.plural(/([ti])a$/i,\"$1a\"),t.plural(/sis$/i,\"ses\"),t.plural(/(?:([^f])fe|([lr])f)$/i,\"$1$2ves\"),t.plural(/(hive)$/i,\"$1s\"),t.plural(/([^aeiouy]|qu)y$/i,\"$1ies\"),t.plural(/(x|ch|ss|sh)$/i,\"$1es\"),t.plural(/(matr|vert|ind)(?:ix|ex)$/i,\"$1ices\"),t.plural(/^(m|l)ouse$/i,\"$1ice\"),t.plural(/^(m|l)ice$/i,\"$1ice\"),t.plural(/^(ox)$/i,\"$1en\"),t.plural(/^(oxen)$/i,\"$1\"),t.plural(/(quiz)$/i,\"$1zes\"),t.singular(/s$/i,\"\"),t.singular(/(ss)$/i,\"$1\"),t.singular(/(n)ews$/i,\"$1ews\"),t.singular(/([ti])a$/i,\"$1um\"),t.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,\"$1sis\"),t.singular(/(^analy)(sis|ses)$/i,\"$1sis\"),t.singular(/([^f])ves$/i,\"$1fe\"),t.singular(/(hive)s$/i,\"$1\"),t.singular(/(tive)s$/i,\"$1\"),t.singular(/([lr])ves$/i,\"$1f\"),t.singular(/([^aeiouy]|qu)ies$/i,\"$1y\"),t.singular(/(s)eries$/i,\"$1eries\"),t.singular(/(m)ovies$/i,\"$1ovie\"),t.singular(/(x|ch|ss|sh)es$/i,\"$1\"),t.singular(/^(m|l)ice$/i,\"$1ouse\"),t.singular(/(bus)(es)?$/i,\"$1\"),t.singular(/(o)es$/i,\"$1\"),t.singular(/(shoe)s$/i,\"$1\"),t.singular(/(cris|test)(is|es)$/i,\"$1is\"),t.singular(/^(a)x[ie]s$/i,\"$1xis\"),t.singular(/(octop|vir)(us|i)$/i,\"$1us\"),t.singular(/(alias|status)(es)?$/i,\"$1\"),t.singular(/^(ox)en/i,\"$1\"),t.singular(/(vert|ind)ices$/i,\"$1ex\"),t.singular(/(matr)ices$/i,\"$1ix\"),t.singular(/(quiz)zes$/i,\"$1\"),t.singular(/(database)s$/i,\"$1\"),t.irregular(\"person\",\"people\"),t.irregular(\"man\",\"men\"),t.irregular(\"child\",\"children\"),t.irregular(\"sex\",\"sexes\"),t.irregular(\"move\",\"moves\"),t.irregular(\"zombie\",\"zombies\"),t.uncountable(\"equipment\",\"information\",\"rice\",\"money\",\"species\",\"series\",\"fish\",\"sheep\",\"jeans\",\"police\")}};function Br(t,e){if(function(t){return\"[object Function]\"===Cr.call(t)}(t)&&(e=t,t=null),t=t||\"en\",!e)return Ur.getInstance(t);e(Ur.getInstance(t))}for(var Nr in Jr)Br(Nr,Jr[Nr]);function Wr(t){return function(t,e){var r,n,i,o=\"\"+t;if(0===o.length)return o;var s=o.toLowerCase().match(/\\b\\w+$/);if(s&&Br().uncountables.indexOf(s[0])>-1)return o;for(var a=0,u=e.length;a<u;a++)if(n=(r=e[a])[0],i=r[1],o.match(n)){o=o.replace(n,i);break}return o}(t,Br(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"en\").plurals)}function Kr(t){var e=null===t||void 0===t?\"\":String(t);return e.charAt(0).toUpperCase()+e.slice(1)}function Gr(t,e){null!==e&&void 0!==e||(e=!0);var r=\"\"+t;return r=(r=e?r.replace(/^[a-z\\d]*/,function(t){return Br().acronyms[t]||Kr(t)}):r.replace(new RegExp(\"^(?:\"+Br().acronymRegex.source+\"(?=\\\\b|[A-Z_])|\\\\w)\"),function(t){return t.toLowerCase()})).replace(/(?:_|(\\/))([a-z\\d]*)/gi,function(t,e,r,n,i){return e||(e=\"\"),\"\"+e+(Br().acronyms[r]||Kr(r))})}function Hr(t){var e=\"\"+t;return(e=(e=(e=(e=e.replace(new RegExp(\"(?:([A-Za-z\\\\d])|^)(\"+Br().acronymRegex.source+\")(?=\\\\b|[^a-z])\",\"g\"),function(t,e,r){return(e||\"\")+(e?\"_\":\"\")+r.toLowerCase()})).replace(/([A-Z\\d]+)([A-Z][a-z])/g,\"$1_$2\")).replace(/([a-z\\d])([A-Z])/g,\"$1_$2\")).replace(/-/g,\"_\")).toLowerCase()}function Vr(t){return t.replace(/_/g,\"-\")}var Zr,qr={\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"Æ\":\"AE\",\"Ç\":\"C\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ð\":\"D\",\"Ñ\":\"N\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"×\":\"x\",\"Ø\":\"O\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"Ý\":\"Y\",\"Þ\":\"Th\",\"ß\":\"ss\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"æ\":\"ae\",\"ç\":\"c\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ð\":\"d\",\"ñ\":\"n\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"ý\":\"y\",\"þ\":\"th\",\"ÿ\":\"y\",\"Ā\":\"A\",\"ā\":\"a\",\"Ă\":\"A\",\"ă\":\"a\",\"Ą\":\"A\",\"ą\":\"a\",\"Ć\":\"C\",\"ć\":\"c\",\"Ĉ\":\"C\",\"ĉ\":\"c\",\"Ċ\":\"C\",\"ċ\":\"c\",\"Č\":\"C\",\"č\":\"c\",\"Ď\":\"D\",\"ď\":\"d\",\"Đ\":\"D\",\"đ\":\"d\",\"Ē\":\"E\",\"ē\":\"e\",\"Ĕ\":\"E\",\"ĕ\":\"e\",\"Ė\":\"E\",\"ė\":\"e\",\"Ę\":\"E\",\"ę\":\"e\",\"Ě\":\"E\",\"ě\":\"e\",\"Ĝ\":\"G\",\"ĝ\":\"g\",\"Ğ\":\"G\",\"ğ\":\"g\",\"Ġ\":\"G\",\"ġ\":\"g\",\"Ģ\":\"G\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"ĥ\":\"h\",\"Ħ\":\"H\",\"ħ\":\"h\",\"Ĩ\":\"I\",\"ĩ\":\"i\",\"Ī\":\"I\",\"ī\":\"i\",\"Ĭ\":\"I\",\"ĭ\":\"i\",\"Į\":\"I\",\"į\":\"i\",\"İ\":\"I\",\"ı\":\"i\",\"Ĳ\":\"IJ\",\"ĳ\":\"ij\",\"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"ĸ\":\"k\",\"Ĺ\":\"L\",\"ĺ\":\"l\",\"Ļ\":\"L\",\"ļ\":\"l\",\"Ľ\":\"L\",\"ľ\":\"l\",\"Ŀ\":\"L\",\"ŀ\":\"l\",\"Ł\":\"L\",\"ł\":\"l\",\"Ń\":\"N\",\"ń\":\"n\",\"Ņ\":\"N\",\"ņ\":\"n\",\"Ň\":\"N\",\"ň\":\"n\",\"ŉ\":\"'n\",\"Ŋ\":\"NG\",\"ŋ\":\"ng\",\"Ō\":\"O\",\"ō\":\"o\",\"Ŏ\":\"O\",\"ŏ\":\"o\",\"Ő\":\"O\",\"ő\":\"o\",\"Œ\":\"OE\",\"œ\":\"oe\",\"Ŕ\":\"R\",\"ŕ\":\"r\",\"Ŗ\":\"R\",\"ŗ\":\"r\",\"Ř\":\"R\",\"ř\":\"r\",\"Ś\":\"S\",\"ś\":\"s\",\"Ŝ\":\"S\",\"ŝ\":\"s\",\"Ş\":\"S\",\"ş\":\"s\",\"Š\":\"S\",\"š\":\"s\",\"Ţ\":\"T\",\"ţ\":\"t\",\"Ť\":\"T\",\"ť\":\"t\",\"Ŧ\":\"T\",\"ŧ\":\"t\",\"Ũ\":\"U\",\"ũ\":\"u\",\"Ū\":\"U\",\"ū\":\"u\",\"Ŭ\":\"U\",\"ŭ\":\"u\",\"Ů\":\"U\",\"ů\":\"u\",\"Ű\":\"U\",\"ű\":\"u\",\"Ų\":\"U\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"ź\":\"z\",\"Ż\":\"Z\",\"ż\":\"z\",\"Ž\":\"Z\",\"ž\":\"z\"},Qr={};!function(){function t(){for(var e in Fr(this,t),this.approximations={},qr)this.approximate(e,qr[e])}Dr(t,null,[{key:\"getInstance\",value:function(e){return Qr[e]=Qr[e]||new t,Qr[e]}}]),Dr(t,[{key:\"approximate\",value:function(t,e){this.approximations[t]=e}},{key:\"transliterate\",value:function(t,e){var r=this;return t.replace(/[^\\u0000-\\u007f]/g,function(t){return r.approximations[t]||e||\"?\"})}}])}();!function(t){t[t.debug=1]=\"debug\",t[t.info=2]=\"info\",t[t.warn=3]=\"warn\",t[t.error=4]=\"error\"}(Zr||(Zr={}));var Yr={debug:1,info:2,warn:3,error:4},Xr=new(function(){function t(t){void 0===t&&(t=\"warn\"),this._level=Zr.info,\"number\"==typeof t?this._level=t:this.level=t}return t.prototype.debug=function(t){this._level<=Zr.debug&&console.info(t)},t.prototype.info=function(t){this._level<=Zr.info&&console.info(t)},t.prototype.warn=function(t){this._level<=Zr.warn&&console.warn(t)},t.prototype.error=function(t){this._level<=Zr.warn&&console.error(t)},Object.defineProperty(t.prototype,\"level\",{get:function(){var t;for(t in Zr){if(Zr.hasOwnProperty(t))if(Zr[t]===this._level)return t}throw new Error(\"Invalid log level: \"+this._level)},set:function(t){var e=Zr[t];if(!e)throw new Error(\"Log level must be one of \"+Object.keys(Yr).join(\", \"));this._level=e},enumerable:!0,configurable:!0}),t}()),tn=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this._beforeFilters=[],this._afterFilters=[],this._beforeFilters=t,this._afterFilters=e}return Object.defineProperty(t.prototype,\"beforeFilters\",{get:function(){return this._beforeFilters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"afterFilters\",{get:function(){return this._afterFilters},enumerable:!0,configurable:!0}),t.prototype.beforeFetch=function(t,e){this._beforeFilters.forEach(function(r){r(t,e)})},t.prototype.afterFetch=function(t,e){this._afterFilters.forEach(function(r){r(t,e)})},t}(),en=function(t,e){Object.defineProperty(t,e,{get:function(){},set:function(t){Object.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:!1})},configurable:!0,enumerable:!1})},rn=function(t,e){var r;for(r in(e=s({},e)).credentialStorageBackend&&(t.credentialStorageBackend=e.credentialStorageBackend,delete e.jwtStorage),e.jwtStorage&&(t.jwtStorage=e.jwtStorage,delete e.jwtStorage),e.jwt&&(t.setJWT(e.jwt),delete e.jwt),e)e.hasOwnProperty(r)&&(t[r]=e[r]);void 0===t.isBaseClass?t.setAsBase():!0===t.isBaseClass&&(t.isBaseClass=!1)},nn=function(){function t(t){this.stale=!1,this.storeKey=\"\",this.relationships={},this._persisted=!1,this._markedForDestruction=!1,this._markedForDisassociation=!1,this._originalRelationships={},this._errors={},this._initializeAttributes(),this.assignAttributes(t),this._originalAttributes=wr(this._attributes),this._originalRelationships=this.relationshipResourceIdentifiers(Object.keys(this.relationships))}return Object.defineProperty(t,\"credentialStorage\",{get:function(){return this._credentialStorage},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"jwtStorage\",{get:function(){return this._jwtStorage},set:function(t){t!==this._jwtStorage&&(this._jwtStorage=t,this.credentialStorageBackend=this._credentialStorageBackend)},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"credentialStorageBackend\",{get:function(){return this._credentialStorageBackend},set:function(t){this._credentialStorageBackend=t,this._credentialStorage=new k(this.jwtStorage||\"jwt\",this._credentialStorageBackend)},enumerable:!0,configurable:!0}),t.initializeCredentialStorage=function(){this.jwtStorage&&\"undefined\"!=typeof localStorage?this.credentialStorageBackend=localStorage:this.credentialStorageBackend=new O},t.fromJsonapi=function(t,e){return function(t,e,r){return new Pr(t,r).deserialize(e)}(this.typeRegistry,t,e)},t.inherited=function(t){t.parentClass=this,t.currentClass=t,t.prototype.klass=t,t.attributeList=wr(t.attributeList)},t.setAsBase=function(){this.isBaseClass=!0,this.jsonapiType=void 0,this.typeRegistry||(this.typeRegistry=new xr(this)),this.middlewareStack||(this._middlewareStack=new tn),this._IDMap||(this._IDMap=new kr)},t.isSubclassOf=function(t){for(var e=this.currentClass;e;){if(e===t)return!0;e=e.parentClass}return!1},Object.defineProperty(t,\"baseClass\",{get:function(){for(var t=this.currentClass;t;){if(t.isBaseClass)return t;t=t.parentClass}},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"store\",{get:function(){if(void 0===this.baseClass)throw new Error(\"No base class for \"+this.name);return this.baseClass._IDMap},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"typeRegistry\",{get:function(){if(void 0===this.baseClass)throw new Error(\"No base class for \"+this.name);return this.baseClass._typeRegistry},set:function(t){if(!this.isBaseClass)throw new Error(\"Cannot set a registry on a non-base class\");this._typeRegistry=t},enumerable:!0,configurable:!0}),t.registerType=function(){if(this.jsonapiType){var t=this.typeRegistry.get(this.jsonapiType);t&&this.isSubclassOf(t)||this.typeRegistry.register(this.jsonapiType,this)}},t.extend=function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(this);this.inherited(e);var r={};if(t.attrs)for(var n in t.attrs)if(t.attrs.hasOwnProperty(n)){var i=t.attrs[n];i.name||(i.name=n),i.owner=e,r[n]=i}if(e.attributeList=Object.assign({},e.attributeList,r),rn(e,t.static||{}),e.registerType(),t.methods)for(var s in t.methods)t.methods.hasOwnProperty(s)&&(e.prototype[s]=t.methods[s]);return e},t.prototype._initializeAttributes=function(){this._attributes={},this._copyPrototypeDescriptors()},t.prototype._copyPrototypeDescriptors=function(){var e=this,r=this.klass.attributeList;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];Object.defineProperty(this,n,i.descriptor())}[\"errors\",\"isPersisted\",\"isMarkedForDestruction\",\"isMarkedForDisassociation\"].forEach(function(r){var n=Object.getOwnPropertyDescriptor(t.prototype,r);n&&Object.defineProperty(e,r,n)})},t.prototype.isType=function(t){return this.klass.jsonapiType===t},Object.defineProperty(t.prototype,\"isPersisted\",{get:function(){return this._persisted},set:function(t){this._persisted=t,t&&this.reset()},enumerable:!0,configurable:!0}),t.prototype.onStoreChange=function(){var t=this;return this._onStoreChange?this._onStoreChange:(this._onStoreChange=function(e,r){var n={};Object.keys(r).forEach(function(e){var i=t,o=t.changes();i[e]===r[e]||o[e]||(n[e]=[i[e],r[e]],i[e]=r[e],i._originalAttributes[e]=r[e])}),Object.keys(n).length>0&&void 0!==t.afterSync&&t.afterSync(n)},this._onStoreChange)},t.prototype.unlisten=function(){var t=this;this.klass.sync&&(this.storeKey&&Or.removeEventListener(this.storeKey,this.onStoreChange()),Object.keys(this.relationships).forEach(function(e){var r=t.relationships[e];r&&(Array.isArray(r)?r.forEach(function(t){return t.unlisten()}):r.unlisten())}))},t.prototype.listen=function(){this.klass.sync&&(this._onStoreChange||Or.addEventListener(this.storeKey,this.onStoreChange()))},t.prototype.reset=function(){this.klass.sync&&(this.klass.store.updateOrCreate(this),this.listen()),this._originalAttributes=wr(this._attributes),this._originalRelationships=this.relationshipResourceIdentifiers(Object.keys(this.relationships))},Object.defineProperty(t.prototype,\"isMarkedForDestruction\",{get:function(){return this._markedForDestruction},set:function(t){this._markedForDestruction=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isMarkedForDisassociation\",{get:function(){return this._markedForDisassociation},set:function(t){this._markedForDisassociation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"attributes\",{get:function(){return this._attributes},set:function(t){this._attributes={},this.assignAttributes(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"stored\",{get:function(){return this.klass.store.find(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"typedAttributes\",{get:function(){return this._attributes},enumerable:!0,configurable:!0}),t.prototype.relationship=function(t){return this.relationships[t]},t.prototype.assignAttributes=function(t){if(t)for(var e in t)if(t.hasOwnProperty(e)){var r;if(r=this.klass.deserializeKey(e),\"id\"===e||this.klass.attributeList[r])this[r]=t[e];else if(this.klass.strictAttributes)throw new Error(\"Unknown attribute: \"+e)}},t.prototype.setMeta=function(t){this.__meta__=t},t.prototype.relationshipResourceIdentifiers=function(t){return function(t,e){var r={};return e.forEach(function(e){var n=t.relationship(e);n&&(Array.isArray(n)||(n=[n]),n.forEach(function(t){t.isPersisted&&(r[e]||(r[e]=[]),r[e].push(t.resourceIdentifier))}))}),r}(this,t)},t.prototype.fromJsonapi=function(t,e,r){return void 0===r&&(r={}),function(t,e,r,n){return void 0===n&&(n={}),new Pr(t.klass.typeRegistry,r).deserializeInstance(t,e,n)}(this,t,e,r)},Object.defineProperty(t.prototype,\"resourceIdentifier\",{get:function(){if(void 0===this.klass.jsonapiType)throw new Error(\"Cannot build resource identifier for class. No JSONAPI Type specified.\");return{id:this.id,type:this.klass.jsonapiType}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"errors\",{get:function(){return this._errors},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hasError\",{get:function(){return Object.keys(this._errors).length>1},enumerable:!0,configurable:!0}),t.prototype.clearErrors=function(){this.errors={}},t.prototype.isDirty=function(t){return new Ar(this).check(t)},t.prototype.changes=function(){return new Ar(this).dirtyAttributes()},t.prototype.hasDirtyRelation=function(t,e){return new Ar(this).checkRelation(t,e)},t.prototype.dup=function(){var t=Object.assign({},this.attributes,this.relationships),e=new this.klass(t);return e.id=this.id,e.isPersisted=this.isPersisted,e.isMarkedForDestruction=this.isMarkedForDestruction,e.isMarkedForDisassociation=this.isMarkedForDisassociation,e.errors=Object.assign({},this.errors),e},t.fetchOptions=function(){var t,e={headers:(t={Accept:\"application/json\"},t[\"Content-Type\"]=\"application/json\",t)},r=this.getJWT();return r&&(e.headers.Authorization=this.generateAuthHeader(r)),e},t.url=function(t){var e=this.endpoint||\"/\"+this.jsonapiType,r=\"\"+this.fullBasePath()+e;return t&&(r=r+\"/\"+t),r},t.fullBasePath=function(){return\"\"+this.baseUrl+this.apiNamespace},Object.defineProperty(t,\"middlewareStack\",{get:function(){if(this.baseClass){var t=this.baseClass._middlewareStack;if(this.beforeFetch||this.afterFetch){var e=this.beforeFetch?[this.beforeFetch]:t.beforeFilters,r=this.afterFetch?[this.afterFetch]:t.afterFilters;return new tn(e,r)}return t}return new tn},set:function(t){this._middlewareStack=t},enumerable:!0,configurable:!0}),t.scope=function(){return new Tr(this)},t.first=function(){return this.scope().first()},t.all=function(){return this.scope().all()},t.find=function(t){return this.scope().find(t)},t.where=function(t){return this.scope().where(t)},t.page=function(t){return this.scope().page(t)},t.per=function(t){return this.scope().per(t)},t.extraParams=function(t){return this.scope().extraParams(t)},t.order=function(t){return this.scope().order(t)},t.select=function(t){return this.scope().select(t)},t.selectExtra=function(t){return this.scope().selectExtra(t)},t.stats=function(t){return this.scope().stats(t)},t.includes=function(t){return this.scope().includes(t)},t.merge=function(t){return this.scope().merge(t)},t.setJWT=function(t){this.credentialStorage.setJWT(t)},t.getJWT=function(){return this.credentialStorage.getJWT()},Object.defineProperty(t,\"jwt\",{get:function(){return this.getJWT()},set:function(t){this.setJWT(t)},enumerable:!0,configurable:!0}),t.generateAuthHeader=function(t){return'Token token=\"'+t+'\"'},t.getJWTOwner=function(){return this.logger.warn(\"JSORMBase#getJWTOwner() is deprecated. Use #baseClass property instead\"),this.baseClass},t.serializeKey=function(t){switch(this.keyCase.server){case\"dash\":return Vr(Hr(t));case\"snake\":return Hr(t);case\"camel\":return Gr(Hr(t),!1)}},t.deserializeKey=function(t){switch(this.keyCase.client){case\"dash\":return Vr(Hr(t));case\"snake\":return Hr(t);case\"camel\":return Gr(Hr(t),!1)}},t.prototype.destroy=function(){return u(this,void 0,void 0,function(){var t,e,r,n=this;return c(this,function(i){switch(i.label){case 0:t=this.klass.url(this.id),e=new b(this._middleware(),this.klass.logger),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.delete(t,this._fetchOptions())];case 2:return r=i.sent(),[3,4];case 3:throw i.sent();case 4:return this.klass.baseClass.store.destroy(this),[4,this._handleResponse(r,function(){n.isPersisted=!1})];case 5:return[2,i.sent()]}})})},t.prototype.save=function(t){return void 0===t&&(t={}),u(this,void 0,void 0,function(){var e,r,n,i,o,s,a=this;return c(this,function(u){switch(u.label){case 0:e=this.klass.url(),r=\"post\",n=new b(this._middleware(),this.klass.logger),i=new j(this,t.with),this.isPersisted&&(e=this.klass.url(this.id),r=\"patch\"),this.clearErrors(),s=i.asJSON(),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n[r](e,s,this._fetchOptions())];case 2:return o=u.sent(),[3,4];case 3:throw u.sent();case 4:return[4,this._handleResponse(o,function(){a.fromJsonapi(o.jsonPayload.data,o.jsonPayload,i.includeDirective),i.postProcess()})];case 5:return[2,u.sent()]}})})},t.prototype._handleResponse=function(t,e){return u(this,void 0,void 0,function(){return c(this,function(r){return f(this.klass,t),422===t.status?(p.apply(this,t.jsonPayload),[2,!1]):(e(),[2,!0])})})},t.prototype._fetchOptions=function(){return this.klass.fetchOptions()},t.prototype._middleware=function(){return this.klass.middlewareStack},t.prototype.resetRelationTracking=function(t){this._originalRelationships=this.relationshipResourceIdentifiers(Object.keys(t))},t.baseUrl=\"http://please-set-a-base-url.com\",t.apiNamespace=\"/\",t.keyCase={server:\"snake\",client:\"camel\"},t.strictAttributes=!1,t.logger=Xr,t.sync=!1,t.attributeList={},t.currentClass=t,t._jwtStorage=\"jwt\",t.isJSORMModel=!0,a([en],t.prototype,\"afterSync\",void 0),a([en],t.prototype,\"relationships\",void 0),a([en],t.prototype,\"klass\",void 0),a([en],t.prototype,\"_persisted\",void 0),a([en],t.prototype,\"_markedForDestruction\",void 0),a([en],t.prototype,\"_markedForDisassociation\",void 0),a([en],t.prototype,\"_originalRelationships\",void 0),a([en],t.prototype,\"_attributes\",void 0),a([en],t.prototype,\"_originalAttributes\",void 0),a([en],t.prototype,\"__meta__\",void 0),a([en],t.prototype,\"_errors\",void 0),t}();nn.prototype.klass=nn,nn.initializeCredentialStorage();var on=function(t){return!!t&&(t.currentClass&&t.currentClass.isJSORMModel)},sn=function(){function t(t){this.isRelationship=!1,this.type=void 0,this.persist=!0,t&&(t.name&&(this.name=t.name),t.type&&(this.type=t.type),void 0!==t.persist&&(this.persist=!!t.persist))}return t.prototype.apply=function(t){Object.defineProperty(t.prototype,this.name,this.descriptor())},t.prototype.setter=function(t,e){t._attributes[this.name]=e},t.prototype.getter=function(t){return t.attributes[this.name]},t.prototype.descriptor=function(){var t=this;return{configurable:!0,enumerable:!0,get:function(){return t.getter(this)},set:function(e){t.setter(this,e)}}},t}(),an=function(t){return!!t.klass.sync&&((t.isPersisted||t.stale)&&!t.stored)},un=function(t){function e(e){var r=t.call(this,e)||this;return r.isRelationship=!0,e.jsonapiType&&(r.jsonapiType=e.jsonapiType),r.type&&(r._klass=r.type),r}return o(e,t),Object.defineProperty(e.prototype,\"klass\",{get:function(){return this._klass||(this._klass=hn(this,this.jsonapiType)),this._klass},enumerable:!0,configurable:!0}),e.prototype.getter=function(t){var e=t.relationships[this.name];return e&&an(e)&&delete t.relationships[this.name],t.relationships[this.name]},e.prototype.setter=function(t,e){e&&!e.hasOwnProperty(\"isRelationship\")?(e instanceof nn||Array.isArray(e)||(e=new this.klass(e)),t.relationships[this.name]=e):null!==e&&void 0!==e||(t.relationships[this.name]=e)},e}(sn),cn=function(t){function e(e){var r=t.call(this,e)||this;return r.isRelationship=!0,e.jsonapiType&&(r.jsonapiType=e.jsonapiType),r.type&&(r._klass=r.type),r}return o(e,t),Object.defineProperty(e.prototype,\"klass\",{get:function(){return this._klass||(this._klass=hn(this,this.jsonapiType)),this._klass},enumerable:!0,configurable:!0}),e.prototype.getter=function(t){var e=t.relationships[this.name];if(!e)return this.setter(t,[]),t.relationships[this.name];for(var r=e.length;r--;)if(an(e[r])){t.relationships[this.name];e.splice(r,1)}return t.relationships[this.name]},e.prototype.setter=function(t,e){e&&!e.hasOwnProperty(\"isRelationship\")?(e instanceof nn||Array.isArray(e)||(e=new this.klass(e)),t.relationships[this.name]=e):null!==e&&void 0!==e||(t.relationships[this.name]=e)},e}(sn),ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(un),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(un),fn=function(t){var e={};return void 0!==t&&(\"string\"==typeof t?e={jsonapiType:t}:(e={persist:t.persist,name:t.name},\"string\"==typeof t.type?e.jsonapiType=t.type:e.type=t.type)),e},hn=function(t,e){var r=t.owner.typeRegistry.get(e);if(r)return r;throw new Error('Unknown type \"'+e+'\"')},dn=\"undefined\"!=typeof window,yn=!1,bn=function(t,e){vn(t),rn(t,e||{}),t.jsonapiType||t.isBaseClass||(t.jsonapiType=Wr(Hr(t.name)),yn&&dn&&Xr.warn('Inferring model jsonapiType as \"'+t.jsonapiType+'\".\\nYou should explicitly set this on your model if targeting a minified code bundle.')),t.registerType()},vn=function(t){t.currentClass!==t&&t.currentClass.inherited(t)},gn=function(t){return function(e,r,n){var i,o=function(e,r){if(void 0===n){var o=Wr(Hr(r));i={jsonapiType:o}}else\"string\"==typeof n?i={jsonapiType:n}:on(n)?i={type:n}:(i={persist:n.persist,name:n.name},\"string\"==typeof n.type?i.jsonapiType=n.type:i.type=n.type);var s=new t(i);s.name||(s.name=r);var a=function(t){return vn(t),t}(e.constructor);return a.attributeList[r]=s,s.owner=e.constructor,s.apply(a),s.descriptor()};if(!on(e)||!r)return n=e,o;o(e.prototype,r)}},_n=gn(cn),mn=gn(ln),wn=gn(pn);e.JSORMBase=nn,e.Attribute=sn,e.attr=function(t){return t||(t={}),new sn(t)},e.hasMany=function(t){var e=fn(t);return new cn(e)},e.hasOne=function(t){var e=fn(t);return new ln(e)},e.belongsTo=function(t){var e=fn(t);return new pn(e)},e.Model=function(t){return function(e){return bn(e,t),e}},e.Attr=function(t,e,r){var n=new sn({name:e}),i=function(t,e){return vn(t),n.name||(n.name=e),t.attributeList[e]=n,n.apply(t),n.descriptor()};if(!on(t)&&!function(t){return!!t&&on(t.constructor.currentClass)}(t))return t&&(n=new sn(t)),function(t,e){return i(t.constructor,e)};if(!e)throw new Error(\"Must provide a propertyKey\");var o=t;if(!on(o))return i(o.constructor,e);r&&(n=new sn(r)),i(o,e)},e.HasMany=_n,e.HasOne=mn,e.BelongsTo=wn,e.MiddlewareStack=tn,e.Scope=Tr,Object.defineProperty(e,\"__esModule\",{value:!0})})}).call(this,r(2),r(3),r(4)(t))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n=\"function\"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&h())}function h(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++p<e;)u&&u[p].run();p=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);","extractedComments":[]}